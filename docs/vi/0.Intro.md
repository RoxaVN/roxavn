## Táº¡i sao láº¡i cÃ³ RoxaVN

TÃ´i tá»«ng lÄƒn lá»™n qua cÃ¡c thá»ƒ loáº¡i dá»± Ã¡n: game, blockchain, máº¡ng xÃ£ há»™i, ERP, thÆ°Æ¡ng máº¡i Ä‘iá»‡n tá»­. Má»—i láº§n báº¯t Ä‘áº§u dá»± Ã¡n, viá»‡c Ä‘áº§u tiÃªn tÃ´i pháº£i lÃ m lÃ  dá»±ng láº¡i cÃ¡i â€œproject baseâ€ â€” giá»‘ng nhÆ° má»—i láº§n náº¥u Äƒn pháº£i rá»­a ná»“i, vo gáº¡o, thá»•i cÆ¡m láº¡i tá»« Ä‘áº§u. Láº·p Ä‘i láº·p láº¡i riáº¿t chÃ¡n, tÃ´i má»›i nghÄ©: â€œá»¦a, sao mÃ¬nh khÃ´ng táº¡o luÃ´n cÃ¡i framework cÃ³ sáºµn háº¿t má»i thá»©, muá»‘n gÃ¬ chá»‰ cáº§n rÃ¡p module nhÆ° chÆ¡i Lego?â€  
Tháº¿ lÃ  RoxaVN ra Ä‘á»i â€” má»—i module lÃ  má»™t miáº¿ng Lego xá»‹n, láº­p trÃ¬nh viÃªn chá»‰ cáº§n láº¯p ghÃ©p láº¡i theo mÃ´ hÃ¬nh kinh doanh cá»§a riÃªng mÃ¬nh. KhÃ´ng cáº§n lÃ m Ä‘áº§u báº¿p, chá»‰ cáº§n biáº¿t xÃ o láº¡i lÃ  cÃ³ mÃ³n ngon ğŸ˜ 

## Triáº¿t lÃ½ thiáº¿t káº¿

Äá»ƒ module cÃ³ thá»ƒ â€œcháº¡y tá»‘t trÃªn má»i Ä‘á»‹a hÃ¬nhâ€, chÃºng pháº£i **Ä‘Æ¡n giáº£n Ä‘áº¿n má»©c khÃ´ng thá»ƒ Ä‘Æ¡n giáº£n hÆ¡n ná»¯a**. NÃ³i cÃ¡ch khÃ¡c, RoxaVN sá»‘ng theo triáº¿t lÃ½ **KISS â€“ Keep It Simple, Stupid**.

Má»—i module chá»‰ biáº¿t nhá»¯ng viá»‡c cÆ¡ báº£n nhÆ° táº¡o, sá»­a, xÃ³a entity â€” khÃ´ng hoa má»¹, khÃ´ng phá»©c táº¡p, khÃ´ng â€œdeep learningâ€ lÃ m gÃ¬. Cáº£ cÃ¡ch code cho RoxaVN cÅ©ng pháº£i ngáº¯n gá»n, nhÃ¬n vÃ o hiá»ƒu liá»n, khÃ´ng cáº§n tÃ i liá»‡u dÃ i lÃª thÃª. Code cÃ ng dÃ i thÃ¬ lá»—i cÃ ng nhiá»u, dev cÃ ng má»‡t, PM cÃ ng stress, vÃ  QA cÃ ng buá»“n ngá»§.

TrÆ°á»ng há»£p hoÃ n háº£o nháº¥t lÃ  **khÃ´ng cáº§n code mÃ  váº«n cháº¡y Ä‘Æ°á»£c** â€“ kiá»ƒu nhÆ° â€œframework biáº¿t lo cho báº¡n háº¿tâ€. Náº¿u Ä‘Ã£ cÃ³ thÆ° viá»‡n lÃ m sáºµn, thÃ¬ chá»‰ cáº§n cháº¡y `npm install` mÃ  thÃ´i â€” Ä‘á»«ng phÃ¡t minh láº¡i cÃ¡i bÃ¡nh xe ğŸ¤­

Táº¡i sao tÃ´i láº¡i chá»n triáº¿t lÃ½ KISS chá»© khÃ´ng pháº£i SOLID hay triáº¿t lÃ½ nÃ o khÃ¡c vÃ¬ nÃ³ Ä‘Æ¡n giáº£n dá»… nhá»›. Báº£n thÃ¢n tÃ´i cÅ©ng khÃ´ng nhá»› SOLID lÃ  viáº¿t táº¯t cá»§a 5 tá»« gÃ¬ ğŸ˜‚. Khi code báº¡n khÃ´ng cáº§n nhá»› pháº£i tuÃ¢n theo 5 quy táº¯c nÃ o, chá»‰ cáº§n nhá»› **code ngáº¯n nháº¥t** cÃ³ thá»ƒ thÃ´i.

## Lá»±a chá»n cÃ´ng nghá»‡

Pháº§n nÃ y giáº£i thÃ­ch rÃµ cho viá»‡c lá»±a chá»n cÃ´ng nghá»‡ Ä‘á»ƒ xÃ¢y dá»±ng nÃªn RoxaVN

### ğŸ—ï¸ 1. Monolith hay Microservices  

NgÃ y xÆ°a, **Monolith** lÃ  â€œvuaâ€ â€” táº¥t cáº£ dá»“n vÃ o má»™t khá»‘i. Debug dá»…, deploy nhanh, nhÆ°ng chá»‰ cáº§n Ä‘á»¥ng nháº¹ má»™t tÃ­ lÃ â€¦ â€œná»• toÃ n bá»™â€.  
Rá»“i ngÆ°á»i ta sinh ra **Microservices** â€” chia nhá» há»‡ thá»‘ng, má»—i service lo má»™t viá»‡c.  
Nghe sang láº¯m, nhÆ°ng cháº¡y rá»“i má»›i biáº¿t: â€œMá»™t há»‡ thá»‘ng, ngÃ n bug, triá»‡u logâ€ ğŸ˜…  

#### ğŸ’€ Äiá»ƒm yáº¿u huyá»n thoáº¡i cá»§a Microservices  

1. **Quáº£n lÃ½ má»‡t nhÆ° nuÃ´i báº§y mÃ¨o** ğŸˆ  
   Má»—i service lÃ  má»™t con mÃ¨o: build riÃªng, deploy riÃªng, log riÃªng, bug riÃªng.  
   CÃ³ 30 service lÃ  báº¡n thÃ nh **ngÆ°á»i trÃ´ng sá»Ÿ thÃº pháº§n má»m**.  

2. **Äá»“ng bá»™ dá»¯ liá»‡u = chÆ¡i xáº¿p hÃ¬nh trong bÃ£o** ğŸŒªï¸  
   Service A lÆ°u user, B lÆ°u order, C lÆ°u payment.  
   Muá»‘n thá»‘ng kÃª doanh thu â†’ chÃºc má»«ng, báº¡n unlock *minigame â€œGhÃ©p Dá»¯ Liá»‡u LiÃªn Serviceâ€*.  

3. **Transaction liÃªn service: Ã¡c má»™ng tháº­t sá»±** ğŸ˜µ  
   Rollback 3 service cÃ¹ng lÃºc? ChÃºc báº¡n may máº¯n.  
   Dá»¯ liá»‡u nháº¥t quÃ¡n trong mÆ¡, cÃ²n thá»±c táº¿ thÃ¬â€¦ â€œthÃ´i Ä‘á»«ng há»iâ€.  

4. **Giao tiáº¿p dá»… â€˜Ä‘á»™t tá»­â€™** âš¡  
   Network lÃ  thá»© â€œnay sá»‘ng mai cháº¿tâ€.  
   Má»™t service timeout, kÃ©o theo cáº£ chuá»—i domino â€” log thÃ¬ dÃ i nhÆ° biÃªn niÃªn sá»­ cÃ´ng ty.  

5. **DevOps nhÃ¬n tháº¥y lÃ  muá»‘n chuyá»ƒn nghá»** ğŸ’€  
   Má»—i láº§n deploy pháº£i build máº¥y chá»¥c image, Ä‘áº©y máº¥y chá»¥c container.  
   CÃ³ Kubernetes thÃ¬ Ä‘á»¡ hÆ¡n, nhÆ°ng cÅ©ng chá»‰ lÃ  â€œÄ‘á»¡ Ä‘au chá»© chÆ°a háº¿t Ä‘auâ€.  

#### ğŸ’¡ Modular Monolith â€“ NgÆ°á»i hÃ¹ng tháº§m láº·ng

RoxaVN chá»n **Modular Monolith**, vÃ¬ nÃ³ giá»¯ Ä‘Ãºng tinh tháº§n **KISS**:  

| Microservices | Modular Monolith (RoxaVN) |
|----------------|-----------------------------|
| Má»—i service cháº¡y riÃªng â†’ 10 app, 10 port, 10 container ğŸ˜« | Má»™t lá»‡nh `npm start` lÃ  lÃªn háº¿t ğŸ˜Œ |
| Transaction xuyÃªn service â†’ saga pattern, event bus, headache ğŸ’¥ | Má»i thá»© chung DB â†’ rollback 1 phÃ¡t Äƒn ngay ğŸ§˜ |
| API call â†’ network delay, timeout, retry | Import module â†’ cháº¡y nhanh nhÆ° Ã¡nh sÃ¡ng âš¡ |
| Äá»“ng bá»™ dá»¯ liá»‡u giá»¯a cÃ¡c service lÃ  1 thÃ¡ch thá»©c | Truy váº¥n Ä‘Æ¡n giáº£n vÃ¬ táº¥t cáº£ dá»¯ liá»‡u trong 1 DB |

Thá»±c táº¿ thÃ¬ Modular Monolith váº«n Ä‘ang bá»‹ underrated má»™t cÃ¡ch Ä‘au lÃ²ng ğŸ’”. Má»i ngÆ°á»i hay bá»‹ cuá»‘n vÃ o hype â€œmicro-Ä‘á»§-thá»©â€, trong khi tÆ° tÆ°á»Ÿng **Modular** thá»±c ra cÃ³ thá»ƒ Ã¡p dá»¥ng cho cáº£ backend láº«n frontend luÃ´n. Báº¡n Ä‘Ã¢u cáº§n pháº£i dá»±ng nguyÃªn má»™t **microfrontend** phá»©c táº¡p vÃ  náº·ng nhÆ° con voi chá»‰ Ä‘á»ƒ hiá»ƒn thá»‹ vÃ i component nhá» ğŸ˜…. Vá»›i RoxaVN, chá»‰ cáº§n:

```ts
import { AwesomeComponent } from "@roxavn/module-xyz";
```

vÃ  boom ğŸ’¥ â€” báº¡n Ä‘Ã£ dÃ¹ng component tá»« module khÃ¡c ngon lÃ nh, khÃ´ng cáº§n proxy, khÃ´ng cáº§n build chÃ©o, khÃ´ng cáº§n cáº§u nguyá»‡n vá»›i webpack tháº§n thÃ¡nh.

CÃ²n náº¿u báº¡n muá»‘n chá»‰ táº£i component khi user thá»±c sá»± cáº§n, hÃ£y táº­n dá»¥ng `dynamic import()` cá»§a ESModule â€“ vá»«a giáº£m kÃ­ch thÆ°á»›c bundle ban Ä‘áº§u, vá»«a khiáº¿n user tháº¥y app â€œmÆ°á»£t nhÆ° Sunsilkâ€ ğŸ§ˆ.

#### Module RoxaVN

Má»—i module RoxaVN sáº½ lÃ  1 Javascript package vá»›i git repo Ä‘á»™c láº­p, chá»©a cáº£ code backend láº«n frontend. Viá»‡c nÃ y giÃºp cho nhiá»u team cÃ³ thá»ƒ phÃ¡t triá»ƒn cÃ¡c module song song vÃ  khÃ´ng phá»¥ thuá»™c vá»›i nhau. Module RoxaVN sáº½ gá»“m 2 loáº¡i:

- **Module:** tÆ°Æ¡ng tá»± nhÆ° service trong Microservices.
  Má»—i module cÃ³ báº£ng riÃªng, khÃ´ng foreign key chÃ©o. Náº¿u cáº§n dá»¯ liá»‡u module khÃ¡c, gá»i API mÃ  nÃ³ cung cáº¥p.  
- **Plugin:** pháº§n má»Ÿ rá»™ng cho module.
  Plugin cÃ³ thá»ƒ truy cáº­p báº£ng cá»§a module chÃ­nh qua cáº¥u hÃ¬nh vÃ  thÆ°á»ng cÃ³ prefix `plugin-` trong package name. VÃ­ dá»¥ nhÆ° `@roxavn/plugin-message-reaction` lÃ  plugin thÃªm tÃ­nh nÄƒng reaction cho `@roxavn/module-message`

NgoÃ i ra nhá»¯ng module dÃ²i há»i tÃ­nh nÄƒng Ä‘áº·c thÃ¹ hoáº·c hiá»‡u suáº¥t cao nÃªn tÃ¡ch ra nhÆ° 1 há»‡ thá»‘ng Ä‘á»™c láº­p, khÃ´ng nÃªn náº±m trong RoxaVN (vÃ­ dá»¥ nhÆ° upload file vá»›i MinIO, hay stream video vá»›i Mediasoup, ...)

### âš”ï¸ 2. JavaScript song kiáº¿m há»£p bÃ­ch cÃ¹ng TypeScript  

JavaScript khÃ´ng pháº£i â€œngÃ´n ngá»¯ máº¡nh nháº¥t vÅ© trá»¥â€, nhÆ°ng láº¡i lÃ  **ngÃ´n ngá»¯ Ä‘Æ°á»£c lÃ²ng cáº£ backend láº«n frontend**. VÃ  Ä‘Ã³ chÃ­nh lÃ  lÃ½ do RoxaVN chá»n nÃ³ lÃ m báº£o kiáº¿m cá»§a mÃ¬nh ğŸ¥·

Khi **frontend vÃ  backend cÃ¹ng nÃ³i chung má»™t thá»© tiáº¿ng**, báº¡n sáº½ nháº­n Ä‘Æ°á»£c nhá»¯ng buff sá»©c máº¡nh sau:  

- ğŸ§˜â€â™‚ï¸ **Code liá»n máº¡ch, tÃ¢m há»“n thanh tá»‹nh**  
  Äang viáº¿t React quay sang NodeJS váº«n tháº¥y thÃ¢n quen, khÃ´ng cÃ²n cáº£nh Ä‘ang `console.log` vui váº» rá»“i chuyá»ƒn sang `System.out.println` vÃ  máº¥t mood.  

- ğŸ”„ **Server â€“ Client chung huyáº¿t thá»‘ng**  
  Cáº£ hai dÃ¹ng chung thÆ° viá»‡n, chung kiá»ƒu dá»¯ liá»‡u, chung niá»m vui. Báº¡n chá»‰ cáº§n Ä‘á»‹nh nghÄ©a request/response API á»Ÿ má»™t nÆ¡i, cáº£ backend láº«n frontend Ä‘á»u hiá»ƒu â€” nhÆ° hai ngÆ°á»i yÃªu cÃ¹ng tÃ i khoáº£n Netflix â¤ï¸  

- ğŸ‘©â€ğŸ’» **Tuyá»ƒn dev dá»… nhÆ° Äƒn bÃ¡nh**  
  KhÃ´ng cÃ²n drama â€œÃ´ng nÃ y biáº¿t backend nhÆ°ng khÃ´ng biáº¿t Reactâ€, hay â€œchá»‹ kia chá»‰ lÃ m frontendâ€. Giá» chá»‰ cáº§n **má»™t ngÃ´n ngá»¯ â€“ full stack liá»n máº¡ch**. Dev frontend cÃ³ thá»ƒ lÃ m backend, dev backend cÃ³ thá»ƒâ€¦ build giao diá»‡n (náº¿u dÃ¡m ğŸ˜).  

NhÆ°ng Ä‘á»«ng xem thÆ°á»ng JavaScript! DÃ¹ khÃ´ng nhanh nhÆ° Rust, khÃ´ng gá»n nhÆ° Go, khÃ´ng â€œcá»©ngâ€ nhÆ° C++, nÃ³ láº¡i cÃ³ má»™t siÃªu nÄƒng lá»±c mÃ  máº¥y ngÃ´n ngá»¯ kia mÆ¡ cÅ©ng khÃ´ng cÃ³:

> ğŸ’¥ Báº¡n cÃ³ thá»ƒ lÆ°u **mÃ£ JavaScript trong database**, backend chá»‰ viá»‡c láº¥y ra, **cháº¡y tháº³ng luÃ´n!**  

KhÃ´ng cáº§n build, khÃ´ng cáº§n compile, khÃ´ng cáº§n cáº§u nguyá»‡n. TÃ­nh nÄƒng nÃ y giÃºp RoxaVN **tÃ¹y biáº¿n linh hoáº¡t nhÆ° ninja biáº¿n hÃ¬nh**, vÃ  Ä‘Æ°á»£c dÃ¹ng triá»‡t Ä‘á»ƒ trong `@roxavn/module-workflow` Ä‘á»ƒ xá»­ lÃ½ má»i logic theo yÃªu cáº§u.  

CÃ²n **TypeScript** thÃ¬ sao? ÄÃ³ chÃ­nh lÃ  **thanh kiáº¿m thá»© hai** cá»§a RoxaVN âš”ï¸  

Náº¿u JavaScript lÃ  nghá»‡ sÄ© tá»± do, thÃ¬ TypeScript lÃ  ngÆ°á»i quáº£n lÃ½ khÃ³ tÃ­nh â€” Ä‘áº£m báº£o má»i input/output cá»§a API Ä‘á»u gá»n gÃ ng, rÃµ rÃ ng, khÃ´ng nháº§m kiá»ƒu.  

Má»—i module vÃ  plugin trong RoxaVN lÃ  má»™t package **ESModule** chuáº©n chá»‰nh, giÃºp build client nháº¹ hÆ¡n vá»›i **Tree Shaking** ğŸª¶ 

RoxaVN dÃ¹ng vá»›i Node 20+ vÃ  npm. Trong tÆ°Æ¡ng lai sáº½ cÃ¢n nháº¯c chuyá»ƒn sang Bun.

> RoxaVN dÃ¹ng JavaScript Ä‘á»ƒ **linh hoáº¡t nhÆ° nÆ°á»›c** vÃ  TypeScript Ä‘á»ƒ **cháº¯c cháº¯n nhÆ° thÃ©p**.

### ğŸ”„ 3. RESTful vs GraphQL â€“ Cuá»™c chiáº¿n khÃ´ng há»“i káº¿t âš”ï¸

Tháº¿ giá»›i backend chia lÃ m hai phe:  
- Má»™t bÃªn lÃ  **RESTful API** â€“ lÃ£o lÃ ng, á»•n Ä‘á»‹nh, dá»… hiá»ƒu.  
- BÃªn kia lÃ  **GraphQL** â€“ tráº» trung, thÃ´ng minh, vÃ ... hÆ¡i â€œÄ‘Ã²i há»iâ€ ğŸ˜

| TiÃªu chÃ­               | RESTful                        | GraphQL                        |
| ---------------------- | ------------------------------ | ------------------------------ |
| CÃ¡ch tiáº¿p cáº­n          | Má»—i endpoint cho 1 tÃ i nguyÃªn  | Má»™t endpoint cho táº¥t cáº£        |
| Dá»… há»c                 | ğŸŸ¢ Dá»… nhÆ° Äƒn bÃ¡nh              | ğŸ”´ HÆ¡i khÃ³, cáº§n hiá»ƒu schema    |
| Linh hoáº¡t dá»¯ liá»‡u      | ğŸ”´ Tráº£ cáº£ pháº§n khÃ´ng cáº§n       | ğŸŸ¢ Láº¥y Ä‘Ãºng thá»© mÃ¬nh muá»‘n      |
| Debug & Cache          | ğŸŸ¢ Dá»… kiá»ƒm soÃ¡t                | ğŸ”´ KhÃ³ vÃ¬ query Ä‘á»™ng           |

RESTful lÃ  â€œngÆ°á»i báº¡n cÅ© hiá»ƒu báº¡n, khÃ´ng phá»©c táº¡p nhÆ°ng Ä‘Ã¡ng tinâ€, cÃ²n GraphQL lÃ  â€œngÆ°á»i má»›i quyáº¿n rÅ©, thÃ´ng minh, nhÆ°ng Ä‘Ã²i há»i kiÃªn nháº«n vÃ  hiá»ƒu sÃ¢uâ€. Vá»›i triáº¿t lÃ½ KISS, RoxaVN chá»n RESTful â€“ vÃ¬ Ä‘Ã´i khi Ä‘Æ¡n giáº£n chÃ­nh lÃ  tá»‘i Æ°u ğŸ˜.

#### ğŸ§© RESTful â€œkiá»ƒu RoxaVNâ€ â€“ ÄÆ¡n giáº£n nhÆ°ng linh hoáº¡t

Trong RoxaVN, má»—i RESTful API chá»‰ cÃ³ má»™t nhiá»‡m vá»¥ duy nháº¥t trong Ä‘á»i â€“ thÃªm thÃ¬ chá»‰ thÃªm, láº¥y thÃ¬ chá»‰ láº¥y, xÃ³a thÃ¬â€¦ nÃ³i lá»i táº¡m biá»‡t ğŸ‘‹. KhÃ´ng Ä‘a nhiá»‡m, khÃ´ng láº±ng nháº±ng, khÃ´ng â€œvá»«a insert vá»«a update vá»«a joinâ€ nhÆ° má»™t má»› spaghetti ğŸ.

#### ğŸ§  NguyÃªn táº¯c vÃ ng cá»§a API RoxaVN  
> â€œServer chá»‰ nÃªn lÃ m má»™t viá»‡c, vÃ  lÃ m viá»‡c Ä‘Ã³ tháº­t tá»‘t.â€  

VÃ¬ váº­y, má»—i API Ä‘Æ°á»£c thiáº¿t káº¿ tá»‘i giáº£n:  
- `POST /users` â†’ thÃªm má»™t ngÆ°á»i dÃ¹ng ğŸ‘¶  
- `GET /users/:id` â†’ láº¥y thÃ´ng tin má»™t ngÆ°á»i dÃ¹ng ğŸ‘€  
- `GET /users` â†’ láº¥y danh sÃ¡ch ngÆ°á»i dÃ¹ng ğŸ“œ  

VÃ  dá»«ng á»Ÿ Ä‘Ã³. KhÃ´ng cÃ³ chuyá»‡n join A vá»›i B rá»“i B láº¡i join tiáº¿p vá»›i C, vÃ¬ kiá»ƒu join â€œtam Ä‘áº¡i Ä‘á»“ng Ä‘Æ°á»ngâ€ nÃ y khiáº¿n query náº·ng ná», khÃ³ báº£o trÃ¬, vÃ  dev pháº£i Ä‘á»c SQL dÃ i hÆ¡n cáº£ há»£p Ä‘á»“ng lao Ä‘á»™ng ğŸ˜©. Thay vÃ o Ä‘Ã³, RoxaVN **chá»‰ join trá»±c tiáº¿p giá»¯a hai báº£ng cÃ³ quan há»‡ gáº§n gÅ©i** â€“ kiá»ƒu nhÆ° â€œcha conâ€, khÃ´ng dÃ¢y dÆ°a Ä‘áº¿n â€œhá» hÃ ng bÃªn ngoáº¡i cá»§a ngÆ°á»i báº¡n hÃ ng xÃ³mâ€. Ngáº¯n gá»n, dá»… hiá»ƒu, dá»… debug, vÃ  nhanh nhÆ° chá»›p âš¡

#### ğŸ”„ Pháº§n join â€“ Ä‘á»ƒ client lo!  

RoxaVN tin tÆ°á»Ÿng client nhÆ° má»™t ngÆ°á»i báº¡n thÃ´ng minh:
> â€œCáº­u thÃ­ch join gÃ¬ thÃ¬ join, thÃ­ch láº¥y gÃ¬ thÃ¬ láº¥y, tá»› chá»‰ tráº£ Ä‘Ãºng pháº§n cá»§a tá»› thÃ´i.â€  

Server Ä‘Æ°á»£c giá»¯ Ä‘Æ¡n giáº£n vÃ  dá»… tÃ¡i sá»­ dá»¥ng, cÃ²n client thÃ¬ cÃ³ Ä‘á»§ cÃ´ng cá»¥ Ä‘á»ƒ tá»± rÃ¡p dá»¯ liá»‡u theo nhu cáº§u riÃªng â€“ nhÆ° chÆ¡i Lego nhÆ°ng khÃ´ng cáº§n xin phÃ©p backend ğŸ§±

Cá»¥ thá»ƒ, RoxaVN trang bá»‹ cho frontend 2 â€œvÅ© khÃ­ lá»£i háº¡iâ€:  

- ğŸ§­ component `ApiReference` â€“ giÃºp client liÃªn káº¿t dá»¯ liá»‡u tá»« nhiá»u API má»™t cÃ¡ch tá»± nhiÃªn, dá»… Ä‘á»c.  
- âš¡ hook `useApiBatchQuery()` â€“ cho phÃ©p gá»i nhiá»u API cÃ¹ng lÃºc rá»“i rÃ¡p káº¿t quáº£ vá» nhÆ° pro.  

Cáº£ hai Ä‘á»u Ä‘Æ°á»£c há»c há»i Ã½ tÆ°á»Ÿng tá»« [`ReferenceField` cá»§a React-Admin](https://marmelab.com/react-admin/ReferenceField.html) nhÆ°ng Ä‘Æ°á»£c tinh chá»‰nh láº¡i Ä‘á»ƒ â€œngon, gá»n, nháº¹, chuáº©n RoxaVN styleâ€ ğŸ˜.

#### ğŸ‘™ Äá»«ng show táº¥t cáº£ báº¡n cÃ³

Tuy client cÃ³ thá»ƒ join báº¥t cá»© thá»© gÃ¬ mÃ¬nh muá»‘n, nhÆ°ng cÅ©ng nÃªn nhá»›:  
> â€œKhÃ´ng pháº£i cá»© cÃ³ nhiá»u dá»¯ liá»‡u lÃ  user háº¡nh phÃºc hÆ¡n.â€ ğŸ˜…  

Äá»«ng bÃ y ra má»™t mÃ¢m data khá»•ng lá»“ ngay tá»« Ä‘áº§u, hÃ£y Ä‘á»ƒ user khÃ¡m phÃ¡ tá»«ng pháº§n má»™t cÃ¡ch tá»± nhiÃªn â€“ má»Ÿ Ä‘áº¿n Ä‘Ã¢u, load Ä‘áº¿n Ä‘Ã³, show vá»«a Ä‘á»§, cÃ²n láº¡i Ä‘á»ƒ user tÃ² mÃ² tiáº¿p ğŸ’¡. RoxaVN khuyáº¿n khÃ­ch thiáº¿t káº¿ UI theo hÆ°á»›ng â€œkhÃ¡m phÃ¡ dáº§nâ€ (progressive reveal):  
- Ban Ä‘áº§u chá»‰ hiá»ƒn thá»‹ thÃ´ng tin chÃ­nh.  

- Khi user click vÃ o chi tiáº¿t hoáº·c má»Ÿ rá»™ng, má»›i gá»i thÃªm dá»¯ liá»‡u cáº§n thiáº¿t.

NhÆ° váº­y vá»«a tiáº¿t kiá»‡m tÃ i nguyÃªn, vá»«a giÃºp tráº£i nghiá»‡m ngÆ°á»i dÃ¹ng â€œmÆ°á»£t mÃ  nhÆ° giÃ³â€ ğŸŒ¬ï¸

### ğŸ§™â€â™‚ï¸ 4. Postgres â€“ Tháº§n giá»¯ cá»§a ğŸ’°  

Trong tháº¿ giá»›i láº­p trÃ¬nh, **data lÃ  vÃ ng**, mÃ  Ä‘Ã£ lÃ  vÃ ng thÃ¬ pháº£i cÃ³ tháº§n giá»¯ cá»§a canh chá»«ng cáº©n tháº­n. RoxaVN chá»n **PostgreSQL** â€“ vá»‹ tháº§n vá»«a â€œngáº§uâ€, vá»«a â€œcÃ³ há»câ€, vá»«a â€œkhÃ´ng Ä‘Ã²i tiá»n báº£n quyá»nâ€ ğŸ˜  

VÃ¬ sao khÃ´ng chá»n NoSQL?  
VÃ¬ RoxaVN cáº§n **transaction**, mÃ  NoSQL thÃ¬â€¦ thÃ´i, nÃ³i nháº¹ nhÃ ng lÃ  â€œsá»‘ng tá»± do quÃ¡ má»©câ€ ğŸ˜…  

#### ğŸ”¥ Nhá»¯ng lÃ½ do khiáº¿n Postgres xá»©ng Ä‘Ã¡ng ngá»“i gháº¿ â€œtháº§n giá»¯ cá»§aâ€  

- ğŸª„ **Full Text Search cá»±c máº¡nh:**  
  KhÃ´ng cáº§n rÆ°á»›c thÃªm ElasticSearch vá» nhÃ  cho tá»‘n RAM, tá»‘n cÃ´ng Ä‘á»“ng bá»™. Chá»‰ cáº§n Postgres lÃ  Ä‘á»§ â€“ *simple is beautiful*.  

- ğŸ—ºï¸ **PostGIS â€“ phÃ©p thuáº­t báº£n Ä‘á»“:**  
  Truy váº¥n theo tá»a Ä‘á»™, khoáº£ng cÃ¡ch, hÃ¬nh dáº¡ng... Postgres lÃ m ngon háº¿t. NÃ³i tháº­t, chá»‰ thiáº¿u má»—i viá»‡c nÃ³ váº½ báº£n Ä‘á»“ ra giáº¥y cho báº¡n thÃ´i ğŸ˜‚  

- ğŸ“¡ **Báº¯n event realtime cho client:**  
  Khi data thay Ä‘á»•i, Postgres cÃ³ thá»ƒ â€œbáº¯n tÃ­n hiá»‡uâ€ cho app biáº¿t ngay â€“ nhÆ° thá»ƒ database Ä‘ang thÃ¬ tháº§m: *â€œÃŠ, dá»¯ liá»‡u mÃ y vá»«a Ä‘á»•i kÃ¬a.â€*  

- ğŸ§° **VÃ  cáº£ tÃ¡ tÃ­nh nÄƒng tháº§n thÃ¡nh khÃ¡c:**  
  Tá»« JSONB, trigger, view, function, Ä‘áº¿n extensionâ€¦ Ä‘á»§ Ä‘á»ƒ báº¡n xÃ¢y cáº£ lÃ¢u Ä‘Ã i dá»¯ liá»‡u mÃ  khÃ´ng cáº§n thÃªm lÃ­nh.  

#### ğŸª¶ Bonus: HÃ³a thÃ¢n thÃ nh CockroachDB

Náº¿u báº¡n muá»‘n Postgres cá»§a mÃ¬nh cÃ³ **siÃªu nÄƒng lá»±c phÃ¢n tÃ¡n**, cháº¡y Ä‘a node, chá»‹u lá»—i nhÆ° â€œgiÃ¡n Ä‘áº¿n tá»« háº­u táº­n tháº¿â€, thÃ¬ chá»‰ cáº§n chuyá»ƒn sang **CockroachDB** â€” cÃ¹ng cÃº phÃ¡p SQL, khÃ´ng cáº§n sá»­a code, vÃ  há»‡ thá»‘ng cá»§a báº¡n sáº½ â€œbáº¥t tá»­â€ nhÆ° boss cuá»‘i trong game ğŸ’€

### âš›ï¸ 5. React â€“ CÃ¡nh tay pháº£i cá»§a RoxaVN ğŸ’™  

RoxaVN chá»n **React** khÃ´ng pháº£i vÃ¬ hype, mÃ  vÃ¬ nÃ³ cÃ³ há»‡ sinh thÃ¡i to nhÆ° chá»£ Báº¿n ThÃ nh. Cáº§n váº½ flow? CÃ³ **ReactFlow**. Cáº§n editor xá»‹n? CÃ³ **Puck Editor**. Cáº§n biá»ƒu Ä‘á»“ lung linh? **Recharts** lo háº¿t ğŸ¨ vÃ  1 loáº¡t cÃ¡c framework UI khÃ¡c ná»¯a. Má»™t há»‡ sinh thÃ¡i cÃ³ Ä‘á»§ â€œÄ‘á»“ chÆ¡iâ€ nhÆ° váº­y, dev chá»‰ cáº§n biáº¿t cÃ¡ch import Ä‘Ãºng lÃ  cÃ³ thá»ƒ â€œsá»‘ng vui â€“ code khá»eâ€ ğŸ¤“.

TÃ´i cÅ©ng tá»«ng *crush* **SolidJS** â€“ nhá» nÃ y nhanh, gá»n, render láº¹ nhÆ° ninja. NhÆ°ng tiáº¿c lÃ  â€œÄ‘i chÆ¡iâ€ vá»›i nÃ³ hÆ¡i cÃ´ Ä‘Æ¡n, vÃ¬ thÆ° viá»‡n cÃ²n Ã­t.  Muá»‘n váº½ biá»ƒu Ä‘á»“ hay kÃ©o tháº£ node lÃ  pháº£i tá»± cáº§m daoâ€¦ Ã  nháº§m, code tay ğŸ˜…. CÃ²n **Vue** vÃ  **Angular** thÃ¬ sao? Hai Ã´ng nÃ y cÅ©ng máº¡nh, cá»™ng Ä‘á»“ng Ä‘Ã´ng, nhÆ°ng láº¡i cÃ³ thÃ³i quen â€œtrá»™n Ä‘á»“ Äƒnâ€ â€“ code JS mÃ  pháº£i khai bÃ¡o UI trong file HTML. Má»—i láº§n nháº£y qua nháº£y láº¡i giá»¯a script vÃ  template, tÃ´i cáº£m giÃ¡c nhÆ° xem phim mÃ  pháº£i tua tá»›i lui phá»¥ Ä‘á» ğŸ¤¯.

**React** vá»›i **JSX** thÃ¬ khÃ¡c â€“ HTML vÃ  JS sá»‘ng chung má»™t nhÃ , hÃ²a há»£p nhÆ° cáº·p Ä‘Ã´i song ca Äƒn Ã½ ğŸ¤. Báº¡n code liá»n máº¡ch, suy nghÄ© khÃ´ng bá»‹ ngáº¯t quÃ£ng, vÃ  cÃ³ thá»ƒ viáº¿t UI nhÆ° Ä‘ang ká»ƒ chuyá»‡n tÃ¬nh giá»¯a component vÃ  state ğŸ’.

#### ğŸ’” React Router vs Next.js  

Thá»‹ trÆ°á»ng **framework fullstack** cho React thÃ¬ nhiá»u vÃ´ ká»ƒ: Next.js, Gatsby, Astroâ€¦ nÃ³i chung lÃ  â€œÄ‘i 3 bÆ°á»›c lÃ  Ä‘á»¥ng má»™t framework má»›i ra lÃ²â€. NhÆ°ng RoxaVN láº¡i cÃ³ Ä‘áº·c thÃ¹ riÃªng:

> Má»—i module lÃ  má»™t tháº¿ giá»›i nhá», vÃ  **má»—i module export ra cÃ¡c page riÃªng**.  
> Khi cháº¡y, RoxaVN sáº½ tá»± Ä‘á»™ng gom táº¥t cáº£ cÃ¡c page Ä‘Ã³ láº¡i, rÃ¡p thÃ nh má»™t website hoÃ n chá»‰nh â€“ nhÆ° ghÃ©p Lego thÃ nh lÃ¢u Ä‘Ã i ğŸ°  

Váº¥n Ä‘á» lÃ â€¦ Next.js khÃ´ng chá»‹u chÆ¡i kiá»ƒu Ä‘Ã³ ğŸ˜©. NÃ³ báº¯t báº¡n pháº£i Ä‘áº·t táº¥t cáº£ page trong má»™t thÆ° má»¥c `pages` cá»‘ Ä‘á»‹nh, giá»‘ng nhÆ° báº¯t dev pháº£i dá»“n háº¿t code vÃ o má»™t vali rá»“i báº£o â€œtá»± sáº¯p Ä‘i nhÃ©â€. Cá»™ng Ä‘á»“ng Next.js thÃ¬ to nhÆ° fandom K-pop, tÃ i liá»‡u nhiá»u nhÆ° tiá»ƒu thuyáº¿t, nhÆ°ng tiáº¿c lÃ  RoxaVN vÃ  Next.js khÃ´ng cÃ¹ng â€œtáº§n sá»‘ tá»± doâ€. Tháº¿ lÃ  Ä‘Ã nh nÃ³i lá»i chia tay nháº¹ nhÃ ng:

> â€œKhÃ´ng pháº£i lá»—i cá»§a em, cÅ©ng cháº³ng pháº£i lá»—i cá»§a anh â€“ chá»‰ lÃ  ta khÃ´ng há»£p cáº¥u trÃºc thÆ° má»¥c thÃ´i.â€ ğŸ˜¢  

Gatsby vÃ  Astro cÅ©ng thá»­ bÆ°á»›c vÃ o, nhÆ°ng rá»“i cÅ©ng pháº£i ra Ä‘i vÃ¬â€¦ quÃ¡ cá»©ng nháº¯c vá» Ä‘á»‹nh tuyáº¿n (routing).  

Chá»‰ cÃ³ **React Router** â€“ ngÆ°á»i báº¡n â€œcÅ©â€ (tiá»n thÃ¢n lÃ  Remix) â€“ má»›i tháº­t sá»± hiá»ƒu RoxaVN cáº§n gÃ¬:  

> â€œCustom route tá»± do, Ä‘Æ°á»ng nÃ o cÅ©ng Ä‘Æ°á»£c, miá»…n Ä‘á»«ng crash.â€ ğŸ›£ï¸

VÃ  tháº¿ lÃ  RoxaVN Ä‘Ã£ tÃ¬m tháº¥y tri ká»· cá»§a mÃ¬nh â¤ï¸. Má»™t ngÆ°á»i báº¡n linh hoáº¡t, Ä‘Ã¡ng tin, vÃ  khÃ´ng báº¯t dev pháº£i theo khuÃ´n máº«u.

### ğŸ§© 6. Kysely - Cuá»™c gáº·p gá»¡ Ä‘á»‹nh má»‡nh

Nhá»¯ng phiÃªn báº£n Ä‘áº§u tiÃªn cá»§a RoxaVN tá»«ng â€œyÃªu say Ä‘áº¯mâ€ **TypeORM** â€“ má»™t cÃ´ng cá»¥ ORM giÃºp Ä‘á»“ng bá»™ entity vá»›i database vÃ  táº¡o migration tá»± Ä‘á»™ng. Ban Ä‘áº§u, má»i thá»© Ä‘á»u Ä‘áº¹p: chá»‰ cáº§n Ä‘á»‹nh nghÄ©a entity lÃ  database tá»± sinh ra, dev khÃ´ng cáº§n Ä‘á»™ng tay vÃ o SQL â€” cáº£m giÃ¡c sung sÆ°á»›ng nhÆ° cÃ³ AI viáº¿t há»™ code ğŸ§ âœ¨. NhÆ°ng cÃ ng gáº¯n bÃ³ lÃ¢u, TypeORM cÃ ng lá»™ nhiá»u â€œtáº­t xáº¥uâ€:

- Kiá»ƒu dá»¯ liá»‡u trong query khÃ´ng cháº·t cháº½, Ä‘Ã´i lÃºc TypeScript chá»‰ Ä‘á»©ng nhÃ¬n vÃ â€¦ khÃ´ng cáº£nh bÃ¡o gÃ¬ ğŸ˜…  
- Má»™t sá»‘ cÃ¢u lá»‡nh táº¡o ra SQL â€œthá»«a má»©aâ€, nhÃ¬n mÃ  muá»‘n khÃ³c.

RoxaVN báº¯t Ä‘áº§u hoang mang:  
> â€œLiá»‡u cÃ³ cáº§n sá»­ dá»¥ng 1 ORM cá»“ng ká»nh, khÃ³ kiá»ƒm soÃ¡t sql. Pháº£i chÄƒng Ä‘Ã£ Ä‘áº¿n lÃºc tÃ¬m má»™t ngÆ°á»i má»›i â€” ai Ä‘Ã³ Ä‘Æ¡n giáº£n hÆ¡n, rÃµ rÃ ng hÆ¡n, khÃ´ng drama hÆ¡n?â€ ğŸ’­  

VÃ  rá»“i **Kysely** xuáº¥t hiá»‡n â€“ nháº¹ nhÃ ng, tinh gá»n, vÃ  chuáº©n triáº¿t lÃ½ KISS ğŸ’¡. KhÃ´ng cáº§n entity phá»©c táº¡p, khÃ´ng cáº§n decorator hoa má»¹. Báº¡n tá»± viáº¿t query SQL theo cÃº phÃ¡p an toÃ n, vá»«a Ä‘Æ¡n giáº£n, vá»«a kiá»ƒm soÃ¡t toÃ n diá»‡n tá»«ng dÃ²ng cÃ¢u lá»‡nh. Kysely khÃ´ng cá»‘ lÃ m phÃ©p mÃ u â€” nÃ³ chá»‰ Ä‘Æ°a cho báº¡n kiáº¿m vÃ  khiÃªn, Ä‘á»ƒ báº¡n chá»§ Ä‘á»™ng chiáº¿n Ä‘áº¥u vá»›i database nhÆ° má»™t SQL samurai ğŸ¥·.

Tá»« Ä‘Ã³, RoxaVN chÃ­nh thá»©c chia tay TypeORM trong Ãªm Ä‘áº¹p, vÃ  náº¯m tay Kysely bÆ°á»›c tiáº¿p trÃªn con Ä‘Æ°á»ng **Ä‘Æ¡n giáº£n, máº¡nh máº½, vÃ  rÃµ rÃ ng**.

### ğŸ¨ 7. Mantine UI â€“ Bá»™ Ã¡o Ä‘áº¹p mÃ  nháº¹ ğŸ’…  

TrÆ°á»›c khi ká»ƒ vá» Mantine, pháº£i nÃ³i tháº­t má»™t Ä‘iá»u: RoxaVN nÃ³i â€œkhÃ´ngâ€ vá»›i Tailwindâ€. KhÃ´ng pháº£i Tailwind tá»‡, nhÆ°ng mÃ â€¦ má»—i láº§n nhÃ¬n tháº¥y dÃ²ng code kiá»ƒu:

```html
<div class="flex flex-col justify-between items-center text-sm text-gray-700 bg-gradient-to-r from-blue-500 to-purple-600 hover:scale-105 transition-all duration-300 shadow-md rounded-lg p-4">
```
lÃ  tÃ´i cáº£m giÃ¡c nhÆ° Ä‘ang Ä‘á»c tháº§n chÃº Ä‘á»ƒ triá»‡u há»“i CSS tháº§n thÃ¡nh ğŸ§™â€â™‚ï¸. KhÃ´ng ai cÃ³ thá»ƒ báº£o trÃ¬ ná»•i nhá»¯ng chuá»—i class dÃ i hÆ¡n cáº£ Ä‘Æ°á»ng TrÆ°á»ng SÆ¡n nhÆ° váº­y. Tailwind cÃ³ thá»ƒ há»£p vá»›i cÃ¡c dá»± Ã¡n nhá», nhÆ°ng vá»›i há»‡ thá»‘ng lá»›n nhÆ° RoxaVN, Ä‘á»c code cÅ©ng pháº£i thá»Ÿ oxy ğŸ˜µâ€ğŸ’«

Giá» thÃ¬ nÃ³i Ä‘áº¿n cÃ¡c UI framework â€œÄ‘á»‘i tÃ¡c tiá»m nÄƒngâ€ cá»§a RoxaVN nhÃ© ğŸ‘‡

- ğŸ§± Ant Design: Ä‘áº§y Ä‘á»§ component, tÃ i liá»‡u chi tiáº¿t, nhÆ°ng bundle náº·ng Ä‘áº¿n má»©c má»Ÿ app láº§n Ä‘áº§u mÃ  trÃ¬nh duyá»‡t pháº£i â€œvÃ£ má»“ hÃ´iâ€ ğŸ˜
- ğŸ§© Material UI: giao diá»‡n Ä‘áº¹p, tinh táº¿, nhÆ°ng component váº«n cÃ²n thiáº¿u, vÃ  custom style thÃ¬â€¦ nhÆ° Ä‘ang chÆ¡i trÃ² â€œÄ‘oÃ¡n Ä‘Ãºng 10 props má»›i Ä‘á»•i Ä‘Æ°á»£c mÃ u nÃºtâ€ ğŸ¨
- ğŸ­ PrimeReact: component phong phÃº, nhÆ°ng API hay thay Ä‘á»•i, giao diá»‡n mang phong cÃ¡ch hoÃ i cá»• ğŸ—ºï¸

VÃ  rá»“i Mantine UI xuáº¥t hiá»‡n â€“ nhÆ° ngÆ°á»i hÃ¹ng máº·c giÃ¡p nháº¹ bÆ°á»›c ra giá»¯a chiáº¿n trÆ°á»ng âš”ï¸. KhÃ´ng quÃ¡ phÃ´ trÆ°Æ¡ng, nhÆ°ng vá»«a Ä‘á»§ máº¡nh, Ä‘á»§ Ä‘áº¹p, vÃ  Ä‘á»§ dá»… xÃ i. Bá»™ component cá»§a Mantine vá»«a â€œngonâ€, vá»«a cÃ³ sáºµn hook tiá»‡n Ã­ch nhÆ°: useClipboard, useFormâ€¦ NÃ³i cÃ¡ch khÃ¡c: chá»‰ cáº§n import lÃ  báº¡n Ä‘Ã£ Ä‘Æ°á»£c â€œchÄƒm sÃ³c táº­n rÄƒngâ€ ğŸª¥. KhÃ´ng chá»‰ váº­y, theme system cá»§a Mantine máº¡nh Ä‘áº¿n má»©c báº¡n cÃ³ thá»ƒ Ä‘á»•i giao diá»‡n app nhanh hÆ¡n cáº£ Ä‘á»•i mood sau khi fix bug thÃ nh cÃ´ng ğŸ’…. TÃ¹y biáº¿n mÃ u sáº¯c, spacing, dark mode, font â€“ táº¥t cáº£ Ä‘á»u nháº¹ nhÃ ng vÃ  tinh táº¿.
