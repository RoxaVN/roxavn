## Táº¡i sao láº¡i cÃ³ RoxaVN

TÃ´i tá»«ng lÄƒn lá»™n qua cÃ¡c thá»ƒ loáº¡i dá»± Ã¡n: game, blockchain, máº¡ng xÃ£ há»™i, ERP, thÆ°Æ¡ng máº¡i Ä‘iá»‡n tá»­. Má»—i láº§n báº¯t Ä‘áº§u dá»± Ã¡n, viá»‡c Ä‘áº§u tiÃªn tÃ´i pháº£i lÃ m lÃ  dá»±ng láº¡i cÃ¡i â€œproject baseâ€ â€” giá»‘ng nhÆ° má»—i láº§n náº¥u Äƒn pháº£i rá»­a ná»“i, vo gáº¡o, thá»•i cÆ¡m láº¡i tá»« Ä‘áº§u. Láº·p Ä‘i láº·p láº¡i riáº¿t chÃ¡n, tÃ´i má»›i nghÄ©: â€œá»¦a, sao mÃ¬nh khÃ´ng táº¡o luÃ´n cÃ¡i framework cÃ³ sáºµn háº¿t má»i thá»©, muá»‘n gÃ¬ chá»‰ cáº§n rÃ¡p module nhÆ° chÆ¡i Lego?â€  
Tháº¿ lÃ  RoxaVN ra Ä‘á»i â€” má»—i module lÃ  má»™t miáº¿ng Lego xá»‹n, láº­p trÃ¬nh viÃªn chá»‰ cáº§n láº¯p ghÃ©p láº¡i theo mÃ´ hÃ¬nh kinh doanh cá»§a riÃªng mÃ¬nh. KhÃ´ng cáº§n lÃ m Ä‘áº§u báº¿p, chá»‰ cáº§n biáº¿t xÃ o láº¡i lÃ  cÃ³ mÃ³n ngon ğŸ˜ 

## Triáº¿t lÃ½ thiáº¿t káº¿

Äá»ƒ module cÃ³ thá»ƒ â€œcháº¡y tá»‘t trÃªn má»i Ä‘á»‹a hÃ¬nhâ€, chÃºng pháº£i **Ä‘Æ¡n giáº£n Ä‘áº¿n má»©c khÃ´ng thá»ƒ Ä‘Æ¡n giáº£n hÆ¡n ná»¯a**. NÃ³i cÃ¡ch khÃ¡c, RoxaVN sá»‘ng theo triáº¿t lÃ½ **KISS â€“ Keep It Simple, Stupid**.

Má»—i module chá»‰ biáº¿t nhá»¯ng viá»‡c cÆ¡ báº£n nhÆ° táº¡o, sá»­a, xÃ³a entity â€” khÃ´ng hoa má»¹, khÃ´ng phá»©c táº¡p, khÃ´ng â€œdeep learningâ€ lÃ m gÃ¬. Cáº£ cÃ¡ch code cho RoxaVN cÅ©ng pháº£i ngáº¯n gá»n, nhÃ¬n vÃ o hiá»ƒu liá»n, khÃ´ng cáº§n tÃ i liá»‡u dÃ i lÃª thÃª. Code cÃ ng dÃ i thÃ¬ lá»—i cÃ ng nhiá»u, dev cÃ ng má»‡t, PM cÃ ng stress, vÃ  QA cÃ ng buá»“n ngá»§.

TrÆ°á»ng há»£p hoÃ n háº£o nháº¥t lÃ  **khÃ´ng cáº§n code mÃ  váº«n cháº¡y Ä‘Æ°á»£c** â€“ kiá»ƒu nhÆ° â€œframework biáº¿t lo cho báº¡n háº¿tâ€. Náº¿u Ä‘Ã£ cÃ³ thÆ° viá»‡n lÃ m sáºµn, thÃ¬ chá»‰ cáº§n cháº¡y `npm install` mÃ  thÃ´i â€” Ä‘á»«ng phÃ¡t minh láº¡i cÃ¡i bÃ¡nh xe ğŸ¤­

Táº¡i sao tÃ´i láº¡i chá»n nguyÃªn táº¯c KISS chá»© khÃ´ng pháº£i SOLID hay nguyÃªn táº¯c nÃ o khÃ¡c vÃ¬ nÃ³ Ä‘Æ¡n giáº£n dá»… nhá»›. Báº£n thÃ¢n tÃ´i cÅ©ng khÃ´ng nhá»› SOLID lÃ  viáº¿t táº¯t cá»§a 5 tá»« gÃ¬ ğŸ˜‚. Khi code báº¡n khÃ´ng cáº§n nhá»› pháº£i tuÃ¢n theo 5 quy táº¯c nÃ o, chá»‰ cáº§n nhá»› **code ngáº¯n nháº¥t** cÃ³ thá»ƒ thÃ´i.

## Lá»±a chá»n cÃ´ng nghá»‡

Pháº§n nÃ y giáº£i thÃ­ch rÃµ cho viá»‡c lá»±a chá»n cÃ´ng nghá»‡ Ä‘á»ƒ xÃ¢y dá»±ng nÃªn RoxaVN

### ğŸ—ï¸ 1. Monolith hay Microservices  

NgÃ y xÆ°a, **Monolith** lÃ  â€œvuaâ€ â€” táº¥t cáº£ dá»“n vÃ o má»™t khá»‘i. Debug dá»…, deploy nhanh, nhÆ°ng chá»‰ cáº§n Ä‘á»¥ng nháº¹ má»™t tÃ­ lÃ â€¦ â€œná»• toÃ n bá»™â€.  
Rá»“i ngÆ°á»i ta sinh ra **Microservices** â€” chia nhá» há»‡ thá»‘ng, má»—i service lo má»™t viá»‡c.  
Nghe sang láº¯m, nhÆ°ng cháº¡y rá»“i má»›i biáº¿t: â€œMá»™t há»‡ thá»‘ng, ngÃ n bug, triá»‡u logâ€ ğŸ˜…  

#### ğŸ’€ Äiá»ƒm yáº¿u huyá»n thoáº¡i cá»§a Microservices  

1. **Quáº£n lÃ½ má»‡t nhÆ° nuÃ´i báº§y mÃ¨o** ğŸˆ  
   Má»—i service lÃ  má»™t con mÃ¨o: build riÃªng, deploy riÃªng, log riÃªng, bug riÃªng.  
   CÃ³ 30 service lÃ  báº¡n thÃ nh **ngÆ°á»i trÃ´ng sá»Ÿ thÃº pháº§n má»m**.  

2. **Äá»“ng bá»™ dá»¯ liá»‡u = chÆ¡i xáº¿p hÃ¬nh trong bÃ£o** ğŸŒªï¸  
   Service A lÆ°u user, B lÆ°u order, C lÆ°u payment.  
   Muá»‘n thá»‘ng kÃª doanh thu â†’ chÃºc má»«ng, báº¡n unlock *minigame â€œGhÃ©p Dá»¯ Liá»‡u LiÃªn Serviceâ€*.  

3. **Transaction liÃªn service: Ã¡c má»™ng tháº­t sá»±** ğŸ˜µ  
   Rollback 3 service cÃ¹ng lÃºc? ChÃºc báº¡n may máº¯n.  
   Dá»¯ liá»‡u nháº¥t quÃ¡n trong mÆ¡, cÃ²n thá»±c táº¿ thÃ¬â€¦ â€œthÃ´i Ä‘á»«ng há»iâ€.  

4. **Giao tiáº¿p dá»… â€˜Ä‘á»™t tá»­â€™** âš¡  
   Network lÃ  thá»© â€œnay sá»‘ng mai cháº¿tâ€.  
   Má»™t service timeout, kÃ©o theo cáº£ chuá»—i domino â€” log thÃ¬ dÃ i nhÆ° biÃªn niÃªn sá»­ cÃ´ng ty.  

5. **DevOps nhÃ¬n tháº¥y lÃ  muá»‘n chuyá»ƒn nghá»** ğŸ’€  
   Má»—i láº§n deploy pháº£i build máº¥y chá»¥c image, Ä‘áº©y máº¥y chá»¥c container.  
   CÃ³ Kubernetes thÃ¬ Ä‘á»¡ hÆ¡n, nhÆ°ng cÅ©ng chá»‰ lÃ  â€œÄ‘á»¡ Ä‘au chá»© chÆ°a háº¿t Ä‘auâ€.  

#### ğŸ’¡ Modular Monolith â€“ NgÆ°á»i hÃ¹ng tháº§m láº·ng  

RoxaVN chá»n **Modular Monolith**, vÃ¬ nÃ³ giá»¯ Ä‘Ãºng tinh tháº§n **KISS**:  

| Microservices | Modular Monolith (RoxaVN) |
|----------------|-----------------------------|
| Má»—i service cháº¡y riÃªng â†’ 10 app, 10 port, 10 container ğŸ˜« | Má»™t lá»‡nh `npm start` lÃ  lÃªn háº¿t ğŸ˜Œ |
| Transaction xuyÃªn service â†’ saga pattern, event bus, headache ğŸ’¥ | Má»i thá»© chung DB â†’ rollback 1 phÃ¡t Äƒn ngay ğŸ§˜ |
| API call â†’ network delay, timeout, retry | Import module â†’ cháº¡y nhanh nhÆ° Ã¡nh sÃ¡ng âš¡ |
| Äá»“ng bá»™ dá»¯ liá»‡u giá»¯a cÃ¡c service lÃ  1 thÃ¡ch thá»©c | Truy váº¥n Ä‘Æ¡n giáº£n vÃ¬ táº¥t cáº£ dá»¯ liá»‡u trong 1 DB |

#### Module RoxaVN

Má»—i module RoxaVN sáº½ lÃ  1 Javascript package vá»›i git repo Ä‘á»™c láº­p. Viá»‡c nÃ y giÃºp cho nhiá»u team cÃ³ thá»ƒ phÃ¡t triá»ƒn cÃ¡c module song song vÃ  khÃ´ng phá»¥ thuá»™c vá»›i nhau. Module RoxaVN sáº½ gá»“m 2 loáº¡i:

- **Module:** tÆ°Æ¡ng tá»± nhÆ° service trong Microservices.
  Má»—i module cÃ³ báº£ng riÃªng, khÃ´ng foreign key chÃ©o. Náº¿u cáº§n dá»¯ liá»‡u module khÃ¡c, gá»i API mÃ  nÃ³ cung cáº¥p.  
- **Plugin:** pháº§n má»Ÿ rá»™ng cho module.
  Plugin cÃ³ thá»ƒ truy cáº­p báº£ng cá»§a module chÃ­nh qua cáº¥u hÃ¬nh vÃ  thÆ°á»ng cÃ³ prefix `plugin-` trong package name. VÃ­ dá»¥ nhÆ° `@roxavn/plugin-message-reaction` lÃ  plugin thÃªm tÃ­nh nÄƒng reaction cho `@roxavn/module-message`

NgoÃ i ra nhá»¯ng module dÃ²i há»i tÃ­nh nÄƒng Ä‘áº·c thÃ¹ hoáº·c hiá»‡u suáº¥t cao nÃªn tÃ¡ch ra nhÆ° 1 há»‡ thá»‘ng Ä‘á»™c láº­p, khÃ´ng nÃªn náº±m trong RoxaVN (vÃ­ dá»¥ nhÆ° upload file vá»›i MinIO, hay stream video vá»›i Mediasoup, ...)

### âš”ï¸ 2. JavaScript song kiáº¿m há»£p bÃ­ch cÃ¹ng TypeScript  

JavaScript khÃ´ng pháº£i â€œngÃ´n ngá»¯ máº¡nh nháº¥t vÅ© trá»¥â€, nhÆ°ng láº¡i lÃ  **ngÃ´n ngá»¯ Ä‘Æ°á»£c lÃ²ng cáº£ backend láº«n frontend**. VÃ  Ä‘Ã³ chÃ­nh lÃ  lÃ½ do RoxaVN chá»n nÃ³ lÃ m báº£o kiáº¿m cá»§a mÃ¬nh ğŸ¥·

Khi **frontend vÃ  backend cÃ¹ng nÃ³i chung má»™t thá»© tiáº¿ng**, báº¡n sáº½ nháº­n Ä‘Æ°á»£c nhá»¯ng buff sá»©c máº¡nh sau:  

- ğŸ§˜â€â™‚ï¸ **Code liá»n máº¡ch, tÃ¢m há»“n thanh tá»‹nh**  
  Äang viáº¿t React quay sang NodeJS váº«n tháº¥y thÃ¢n quen, khÃ´ng cÃ²n cáº£nh Ä‘ang `console.log` vui váº» rá»“i chuyá»ƒn sang `System.out.println` vÃ  máº¥t mood.  

- ğŸ”„ **Server â€“ Client chung huyáº¿t thá»‘ng**  
  Cáº£ hai dÃ¹ng chung thÆ° viá»‡n, chung kiá»ƒu dá»¯ liá»‡u, chung niá»m vui. Báº¡n chá»‰ cáº§n Ä‘á»‹nh nghÄ©a request/response API á»Ÿ má»™t nÆ¡i, cáº£ backend láº«n frontend Ä‘á»u hiá»ƒu â€” nhÆ° hai ngÆ°á»i yÃªu cÃ¹ng tÃ i khoáº£n Netflix â¤ï¸  

- ğŸ‘©â€ğŸ’» **Tuyá»ƒn dev dá»… nhÆ° Äƒn bÃ¡nh**  
  KhÃ´ng cÃ²n drama â€œÃ´ng nÃ y biáº¿t backend nhÆ°ng khÃ´ng biáº¿t Reactâ€, hay â€œchá»‹ kia chá»‰ lÃ m frontendâ€. Giá» chá»‰ cáº§n **má»™t ngÃ´n ngá»¯ â€“ full stack liá»n máº¡ch**. Dev frontend cÃ³ thá»ƒ lÃ m backend, dev backend cÃ³ thá»ƒâ€¦ build giao diá»‡n (náº¿u dÃ¡m ğŸ˜).  


NhÆ°ng Ä‘á»«ng xem thÆ°á»ng JavaScript! DÃ¹ khÃ´ng nhanh nhÆ° Rust, khÃ´ng gá»n nhÆ° Go, khÃ´ng â€œcá»©ngâ€ nhÆ° C++, nÃ³ láº¡i cÃ³ má»™t siÃªu nÄƒng lá»±c mÃ  máº¥y ngÃ´n ngá»¯ kia mÆ¡ cÅ©ng khÃ´ng cÃ³:

> ğŸ’¥ Báº¡n cÃ³ thá»ƒ lÆ°u **mÃ£ JavaScript trong database**, backend chá»‰ viá»‡c láº¥y ra, **cháº¡y tháº³ng luÃ´n!**  

KhÃ´ng cáº§n build, khÃ´ng cáº§n compile, khÃ´ng cáº§n cáº§u nguyá»‡n. TÃ­nh nÄƒng nÃ y giÃºp RoxaVN **tÃ¹y biáº¿n linh hoáº¡t nhÆ° ninja biáº¿n hÃ¬nh**, vÃ  Ä‘Æ°á»£c dÃ¹ng triá»‡t Ä‘á»ƒ trong `@roxavn/module-workflow` Ä‘á»ƒ xá»­ lÃ½ má»i logic theo yÃªu cáº§u.  

CÃ²n **TypeScript** thÃ¬ sao? ÄÃ³ chÃ­nh lÃ  **thanh kiáº¿m thá»© hai** cá»§a RoxaVN âš”ï¸  

Náº¿u JavaScript lÃ  nghá»‡ sÄ© tá»± do, thÃ¬ TypeScript lÃ  ngÆ°á»i quáº£n lÃ½ khÃ³ tÃ­nh â€” Ä‘áº£m báº£o má»i input/output cá»§a API Ä‘á»u gá»n gÃ ng, rÃµ rÃ ng, khÃ´ng nháº§m kiá»ƒu.  

Má»—i module vÃ  plugin trong RoxaVN lÃ  má»™t package **ESModule** chuáº©n chá»‰nh, giÃºp build client nháº¹ hÆ¡n vá»›i **Tree Shaking** ğŸª¶ 

RoxaVN dÃ¹ng vá»›i Node 20+ vá»›i npm. Trong tÆ°Æ¡ng lai sáº½ cÃ¢n nháº¯c chuyá»ƒn sang Bun.

> RoxaVN dÃ¹ng JavaScript Ä‘á»ƒ **linh hoáº¡t nhÆ° nÆ°á»›c** vÃ  TypeScript Ä‘á»ƒ **cháº¯c cháº¯n nhÆ° thÃ©p**.

### ğŸ§™â€â™‚ï¸ 3. Postgres â€“ Tháº§n giá»¯ cá»§a ğŸ’°  

Trong tháº¿ giá»›i láº­p trÃ¬nh, **data lÃ  vÃ ng**, mÃ  Ä‘Ã£ lÃ  vÃ ng thÃ¬ pháº£i cÃ³ tháº§n giá»¯ cá»§a canh chá»«ng cáº©n tháº­n. RoxaVN chá»n **PostgreSQL** â€“ vá»‹ tháº§n vá»«a â€œngáº§uâ€, vá»«a â€œcÃ³ há»câ€, vá»«a â€œkhÃ´ng Ä‘Ã²i tiá»n báº£n quyá»nâ€ ğŸ˜  

VÃ¬ sao khÃ´ng chá»n NoSQL?  
VÃ¬ RoxaVN cáº§n **transaction**, mÃ  NoSQL thÃ¬â€¦ thÃ´i, nÃ³i nháº¹ nhÃ ng lÃ  â€œsá»‘ng tá»± do quÃ¡ má»©câ€ ğŸ˜…  

#### ğŸ”¥ Nhá»¯ng lÃ½ do khiáº¿n Postgres xá»©ng Ä‘Ã¡ng ngá»“i gháº¿ â€œtháº§n giá»¯ cá»§aâ€  

- ğŸª„ **Full Text Search cá»±c máº¡nh:**  
  KhÃ´ng cáº§n rÆ°á»›c thÃªm ElasticSearch vá» nhÃ  cho tá»‘n RAM, tá»‘n cÃ´ng Ä‘á»“ng bá»™. Chá»‰ cáº§n Postgres lÃ  Ä‘á»§ â€“ *simple is beautiful*.  

- ğŸ—ºï¸ **PostGIS â€“ phÃ©p thuáº­t báº£n Ä‘á»“:**  
  Truy váº¥n theo tá»a Ä‘á»™, khoáº£ng cÃ¡ch, hÃ¬nh dáº¡ng... Postgres lÃ m ngon háº¿t. NÃ³i tháº­t, chá»‰ thiáº¿u má»—i viá»‡c nÃ³ váº½ báº£n Ä‘á»“ ra giáº¥y cho báº¡n thÃ´i ğŸ˜‚  

- ğŸ“¡ **Báº¯n event realtime cho client:**  
  Khi data thay Ä‘á»•i, Postgres cÃ³ thá»ƒ â€œbáº¯n tÃ­n hiá»‡uâ€ cho app biáº¿t ngay â€“ nhÆ° thá»ƒ database Ä‘ang thÃ¬ tháº§m: *â€œÃŠ, dá»¯ liá»‡u mÃ y vá»«a Ä‘á»•i kÃ¬a.â€*  

- ğŸ§° **VÃ  cáº£ tÃ¡ tÃ­nh nÄƒng tháº§n thÃ¡nh khÃ¡c:**  
  Tá»« JSONB, trigger, view, function, Ä‘áº¿n extensionâ€¦ Ä‘á»§ Ä‘á»ƒ báº¡n xÃ¢y cáº£ lÃ¢u Ä‘Ã i dá»¯ liá»‡u mÃ  khÃ´ng cáº§n thÃªm lÃ­nh.  

#### ğŸª¶ Bonus: HÃ³a thÃ¢n thÃ nh CockroachDB

Náº¿u báº¡n muá»‘n Postgres cá»§a mÃ¬nh cÃ³ **siÃªu nÄƒng lá»±c phÃ¢n tÃ¡n**, cháº¡y Ä‘a node, chá»‹u lá»—i nhÆ° â€œgiÃ¡n Ä‘áº¿n tá»« háº­u táº­n tháº¿â€, thÃ¬ chá»‰ cáº§n chuyá»ƒn sang **CockroachDB** â€” cÃ¹ng cÃº phÃ¡p SQL, khÃ´ng cáº§n sá»­a code, vÃ  há»‡ thá»‘ng cá»§a báº¡n sáº½ â€œbáº¥t tá»­â€ nhÆ° boss cuá»‘i trong game ğŸ’€

## MÃ´ hÃ¬nh tá»•ng quan

RoxaVN lÃ  framework **fullstack**, lo luÃ´n cáº£ backend láº«n frontend. NÃ³i cÃ¡ch khÃ¡c, â€œtrá»n gÃ³i tá»« A Ä‘áº¿n Zâ€.  

### Lá»›p ngÆ°á»i dÃ¹ng
1. **NhÃ  cung cáº¥p:** tá»• chá»©c hoáº·c cÃ¡ nhÃ¢n â€œdá»±ng cá»­a hÃ ng, má»Ÿ dá»‹ch vá»¥â€, cung cáº¥p Ä‘á»§ thá»© cho khÃ¡ch hÃ ng.
2. **KhÃ¡ch hÃ ng:** ngÆ°á»i dÃ¹ng cuá»‘i, lÃ  thÆ°á»£ng Ä‘áº¿ cá»§a báº¡n ğŸ‘‘.

### Giao diá»‡n ngÆ°á»i dÃ¹ng
1. **Admin dashboard:** nÆ¡i nhÃ  cung cáº¥p vÃ o â€œÄ‘iá»u hÃ nh tháº¿ giá»›iâ€ â€” quáº£n lÃ½ user, dá»‹ch vá»¥, v.v.  
   - ğŸ› ï¸ Truy cáº­p: `/admin/apps`  
2. **Personal profile:** chá»— khÃ¡ch hÃ ng tá»± â€œtÃºt láº¡i profileâ€, chá»‰nh tÃªn, thay avatar, Ä‘á»•i mood.  
   - ğŸ‘¤ Truy cáº­p: `/me`  
3. **Custom application:** náº¿u tháº¥y chÆ°a Ä‘á»§, báº¡n cÃ³ thá»ƒ â€œnáº¥u mÃ³n riÃªngâ€, phÃ¡t triá»ƒn á»©ng dá»¥ng web tÃ¹y mÃ´ hÃ¬nh kinh doanh.
